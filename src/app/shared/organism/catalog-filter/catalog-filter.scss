@use '../../../../assets/style/variables' as variables;
@use '../../../../assets/style/mixins' as mixins;

.catalog-filter {
  background-color: variables.color(white1);
  padding: variables.$spacing-lg variables.$spacing-xl;
  border-radius: variables.$borderRadius-lg;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
  margin-bottom: variables.$spacing-xl;

  // Mobile first - Stack everything vertically
  @include mixins.mobile-only() {
    padding: variables.$spacing-md;
    border-radius: variables.$borderRadius;
  }

  &__row {
    display: flex;
    gap: variables.$spacing-lg;
    align-items: stretch;

    &:not(:last-child) {
      margin-bottom: variables.$spacing-lg;
    }

    // Mobile: Stack vertically with smaller gaps
    @include mixins.mobile-only() {
      flex-direction: column;
      gap: variables.$spacing-md;
      
      &:not(:last-child) {
        margin-bottom: variables.$spacing-md;
      }
    }

    &--search {
      // Search takes full width on all screens
      .search-input {
        flex: 1;
        max-width: none;
      }
    }

    &--filters {
      // Tablet and up: horizontal layout
      @include mixins.tablet-up() {
        align-items: center;
        justify-content: space-between;
      }

      // Desktop and up: better spacing
      @include mixins.desktop-up() {
        gap: variables.$spacing-xl;
      }
    }
  }

  &__filters-group {
    display: flex;
    gap: variables.$spacing-lg;
    flex: 1;
    align-items: stretch;

    // Mobile: Stack filters vertically
    @include mixins.mobile-only() {
      flex-direction: column;
      gap: variables.$spacing-md;
    }

    // Tablet: Keep horizontal but with smaller gap
    @include mixins.tablet-only() {
      gap: variables.$spacing-md;
    }
  }

  &__dropdown {
    flex: 1;
    min-width: 0;

    // Mobile: Full width
    @include mixins.mobile-only() {
      min-width: 100%;
    }

    // Tablet and up: Constrain width for better UX
    @include mixins.tablet-up() {
      min-width: 180px;
      max-width: 220px;
    }

    // Desktop and up: Slightly wider
    @include mixins.desktop-up() {
      min-width: 200px;
      max-width: 250px;
    }
  }

  &__view-toggle {
    flex-shrink: 0;
    align-self: center;

    // Mobile: Center it
    @include mixins.mobile-only() {
      align-self: center;
      width: fit-content;
      margin: 0 auto;
    }

    // Tablet and up: Right aligned
    @include mixins.tablet-up() {
      margin-left: auto;
    }
  }

  // Better responsive behavior for the entire filter
  @include mixins.tablet-up() {
    padding: variables.$spacing-xl variables.$spacing-xxl;
    display: flex;
    flex-direction: row;
    align-items: baseline;
    justify-content: space-between;
  }

  @include mixins.desktop-large-up() {
    padding: variables.$spacing-xl variables.$spacing-xxl * 1.5;
    display: flex;
    flex-direction: row;
    align-items: baseline;
    justify-content: space-between;
  }
}
